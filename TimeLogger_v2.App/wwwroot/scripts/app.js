import{sessionStore}from"./clientstore.js";import{CreateAccountComponent,ForgotPasswordComponent,LoginComponent,PasswordResetComponent}from"./account.js";import{HomeComponent,InsightsComponent,TasksComponent,NotYetImplementedComponent}from"./pages.js";const PrivacyPolicyComponent={template:"<p>Privacy policy</p>"},TermsOfServiceComponent={template:"<p>Terms of service</p>"},routes=[{name:"CreateAccount",path:"/create",component:CreateAccountComponent,meta:{isPublicPage:!0}},{name:"ForgotPassword",path:"/forgot",component:ForgotPasswordComponent,meta:{isPublicPage:!0}},{name:"Login",path:"/login",component:LoginComponent,meta:{isPublicPage:!0}},{name:"PasswordReset",path:"/password-reset/:id",component:PasswordResetComponent,meta:{isPublicPage:!0}},{name:"PrivacyPolicy",path:"/privacy",component:PrivacyPolicyComponent,meta:{isPublicPage:!0}},{name:"TermsOfService",path:"/terms-of-service",component:TermsOfServiceComponent,meta:{isPublicPage:!0}},{name:"Home",path:"/home",component:HomeComponent},{name:"Insights",path:"/insights",component:InsightsComponent},{name:"Tasks",path:"/tasks",component:TasksComponent},{name:"NotYetImplemented",path:"/nyi",component:NotYetImplementedComponent},{path:"/",redirect:{name:"Home"}}],router=VueRouter.createRouter({history:VueRouter.createWebHashHistory(),routes:routes});router.beforeEach((e,o,t)=>{e.matched.some(e=>e.meta&&e.meta.isPublicPage)?t():sessionStore.getter.isLoggedIn()?t():t({name:"Login",query:{redirect:e.fullPath}})});const vue_app=Vue.createApp({});vue_app.use(router),vue_app.mount("#app");